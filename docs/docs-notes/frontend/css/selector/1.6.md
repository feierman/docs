# 层叠和优先级与继承
##  层叠（Cascading）

层叠是指当一个元素同时受到多个样式规则影响时，CSS会根据特定规则来决定应用哪一个样式。

- 层叠规则的决定因素
- 样式来源：

- 浏览器默认样式：浏览器内置的样式。用户样式：用户在浏览器中自定义的样式。作者样式：开发者定义的样式，包括外部样式表、内部样式表和内联样式。重要性：

- 使用 !important 标记的样式具有最高优先级。
优先级：

- 当样式冲突时，CSS会根据选择器的权重（优先级）来决定应用哪个样式。
位置：

- 如果样式的权重相同，离目标元素最近的样式生效。例如，内联样式的优先级高于内部和外部样式表。

##  优先级（Specificity）
优先级决定了当多个样式规则匹配同一元素时，哪个样式将被应用。CSS根据选择器的类型和复杂度来计算优先级。
- 优先级计算规则：优先级由四部分组成，用四个数字表示 (a, b, c, d)：
    - a：内联样式（style 属性）的优先级为 1000，即 a = 1。
    - b：ID 选择器的优先级为 100，即 b = ID 选择器的数量。
    - c：类选择器、属性选择器和伪类选择器的优先级为 10，即 c = 类选择器、属性选择器和伪类选择器的数量。
    - d：元素选择器和伪元素选择器的优先级为 1，即 d = 元素选择器和伪元素选择器的数量。
- 示例:
<!-- 表格 -->
| 选择器 | 计算权重 |
| --- | --- |
| `P` | (0, 0, 0, 1) |
| `.box` | (0, 0, 1, 0) |
| `#main` | (0, 1, 0, 0) |
| `div p`| (0, 0, 0, 2) |
| `div .box` | (0, 0, 1, 1) |
| `#main p` | (0, 1, 0, 1) |
| `#main .box` | (0, 1, 1, 0) |
| `div #main .box` | (0, 1, 1, 1) |
| `style="color:red"`| (1, 0, 0, 0) |
- 优先级比较：当两个选择器的权重相同时，优先级由选择器的位置决定。离目标元素最近的样式将被应用。

## 继承
继承是指某些CSS属性会自动传递给子元素。继承可以减少重复代码，让样式更易于维护。

- 可继承的属性
主要是与文本相关的属性，例如：

`color`：文本颜色
`font-family`：字体类型
`font-size`：字体大小
`line-height`：行高
`visibility`：可见性
- 不可继承的属性
与布局和盒模型相关的属性，例如：

`margin`：外边距
`padding`：内边距
`border`：边框
`width / height`：宽度和高度
`position`：定位
强制继承
对于不可继承的属性，可以通过 `inherit` 关键字强制继承父元素的属性值。

示例：
```css
div {
  color: blue;
}

p {
  color: inherit; /* 继承父元素的颜色 */
}
```
## !important 关键字
`!important` 关键字用于提高CSS规则的优先级，使该规则具有最高优先级。

## 示例
层叠和优先级与继承的示例：
```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="styles.css">
  <style>
    #title {
      color: green;
    }
    .heading {
      color: blue;
    }
    h1 {
      color: purple;
    }
  </style>
</head>
<body>
  <h1 id="title" class="heading" style="color: red;">标题示例</h1>
</body>
</html>
```
- 解析：

- 内联样式：style="color: red;"（权重：1, 0, 0, 0）
- ID选择器：#title（权重：0, 1, 0, 0）
- 类选择器：.heading（权重：0, 0, 1, 0）
- 元素选择器：h1（权重：0, 0, 0, 1）
- 最终应用：color: red;（内联样式优先级最高）

